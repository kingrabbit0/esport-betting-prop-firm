import{m as T,b as D,_ as v,r as l,o as u,c as b,g as o,w as i,a as n,F as I,d as E,e as w,G as $,n as j,E as S,t as f,$ as q,O as V,P as z,f as x}from"./index.4e2af6a6.js";import{I as O,a as K,b as G,c as Y,d as J,f as Q,_ as X,j as Z,e as C,T as L,C as k,W as ee,B as te,H as se,h as oe,i as le,L as ne}from"./Loading.b16fae52.js";import{_ as ae,M as W}from"./Modal.fe527bf3.js";import{B as A,u as re,c as U,r as M}from"./index.230173d2.js";const ie={name:"AdminSidebar",components:{IconDashboard:O,IconWallet:K,IconPerson:G,IconNft:Y,IconAdmin:J},emits:["set-link"],data(){return{links:[{icon:"icon-admin",title:"Admin",value:"admin"},{icon:"icon-wallet",title:"Wallet",value:"wallet"}]}},computed:{...T(["activeLink","user"])},methods:{...D(["setActiveLink"])}},ce={class:"text-white lg:flex hidden flex-col h-full w-full lg:max-w-220 max-w-none bg-primary-dark border-r border-primary-green border-opacity-25 md:py-7 py-4 px-5 items-center md:fixed relative"},de=n("img",{src:ae,alt:"",class:"h-10 w-auto"},null,-1),ue={class:"flex flex-col items-start gap-8 mt-14"},me=["onClick"],fe={class:"text-base font-medium relative top-0.5"},pe={class:"flex items-center gap-5 text-white/75"},_e=n("h1",{class:"text-base font-medium relative top-0.5"}," Dashboard ",-1);function he(e,t,p,g,s,r){const a=l("router-link");return u(),b("div",ce,[o(a,{to:"/"},{default:i(()=>[de]),_:1}),n("div",ue,[(u(!0),b(I,null,E(s.links,(c,m)=>(u(),b("button",{key:m,class:j(["flex items-center gap-5",{"text-primary-green":e.activeLink.value==c.value,"text-white/75":e.activeLink.value!=c.value}]),onClick:d=>e.setActiveLink(c)},[(u(),w(S(c.icon))),n("h1",fe,f(c.title),1)],10,me))),128)),e.user.isAdmin?(u(),w(a,{key:0,to:"/app",onClick:t[0]||(t[0]=c=>e.setActiveLink({icon:"icon-dashboard",title:"Dashboard",value:"dashboard"}))},{default:i(()=>[n("button",pe,[(u(),w(S("icon-dashboard"))),_e])]),_:1})):$("",!0)])])}const we=v(ie,[["render",he]]),be={name:"Dropdown",components:{IconArrowDown:Q},props:{modelValue:String},data(){return{open:!1,intervals:[{displayName:"24 Hours",name:"24h"},{displayName:"14 Days",name:"14d"},{displayName:"30 Days",name:"30d"},{displayName:"1 Year",name:"1y"},{displayName:"Max",name:"max"}]}},directives:{clickOutSide:X},computed:{selected(){return this.intervals.filter(e=>e.name==this.modelValue).map(e=>e.displayName)[0]}},methods:{close(){this.open=!1},onSelect(e){this.$emit("update:modelValue",e),this.close()}}},ve={class:"relative"},ge={class:"text-base capitalize"},ye={id:"dropdown",class:"z-10 absolute bg-black-2 border border-primary-green/25 rounded-md shadow w-44 top-14"},xe={class:"py-2 text-sm text-primary-white w-full"},$e=["onClick"];function Ce(e,t,p,g,s,r){const a=l("IconArrowDown"),c=q("click-out-side");return V((u(),b("div",ve,[n("button",{onClick:t[0]||(t[0]=m=>s.open=!s.open),class:"flex items-center justify-center px-4 py-1 bg-black-2/[0.65] border border-primary-green/25 gap-3 rounded-md",type:"button"},[n("h1",ge,f(r.selected),1),o(a)]),V(n("div",ye,[n("ul",xe,[(u(!0),b(I,null,E(s.intervals,(m,d)=>(u(),b("li",{key:d,class:"w-full"},[n("button",{class:"block px-4 py-2 hover:bg-primary-dark capitalize w-full text-left",onClick:y=>r.onSelect(m.name)},f(m.displayName),9,$e)]))),128))])],512),[[z,s.open]])])),[[c,r.close]])}const Ae=v(be,[["render",Ce]]),ke={name:"BalanceTable",components:{IconEth:Z},props:{balance:[String,Number]}},Re={class:"flex items-center h-full gap-5"},Te={class:"text-lg relative top-1"};function Ie(e,t,p,g,s,r){const a=l("IconEth");return u(),b("div",Re,[o(a),n("h1",Te,f(p.balance)+" ETH ",1)])}const Le=v(ke,[["render",Ie]]),Be={name:"ReferralModal",components:{Modal:W,Input:C,Button:A},props:{data:Object},data(){return{balance:null,credits:null}},computed:{},methods:{}},De={class:"flex flex-col items-start w-full gap-4"},Se={class:"flex flex-col items-start gap-0.5"},Ve=n("h1",{class:"text-base font-medium text-white text-opacity-75"},"Account ID",-1),Ue={class:"text-sm text-primary-green"},Me={class:"flex flex-col items-start gap-0.5"},Ee=n("h1",{class:"text-base font-medium text-white text-opacity-75"},"Current Balance",-1),We={class:"text-sm text-primary-green"},Pe={class:"flex flex-col items-start gap-0.5"},He=n("h1",{class:"text-base font-medium text-white text-opacity-75"},"Current Credits",-1),Ne={class:"text-sm text-primary-green"},Fe=n("h1",{class:"text-base font-medium text-white text-opacity-75"},"Send Rewards to this user",-1),je={class:"grid grid-cols-2 gap-5 w-full"};function qe(e,t,p,g,s,r){const a=l("Input"),c=l("Button"),m=l("Modal");return u(),w(m,{title:"Top Up Account"},{default:i(()=>[n("div",De,[n("div",Se,[Ve,n("p",Ue,f(p.data._id),1)]),n("div",Me,[Ee,n("p",We,f(p.data.ETH_balance),1)]),n("div",Pe,[He,n("p",Ne,f(p.data.credits),1)]),o(a,{label:"Add Balance",modelValue:s.balance,"onUpdate:modelValue":t[0]||(t[0]=d=>s.balance=d),type:"number",class:"w-full"},null,8,["modelValue"]),o(a,{label:"Add Credits",modelValue:s.credits,"onUpdate:modelValue":t[1]||(t[1]=d=>s.credits=d),type:"number",class:"w-full"},null,8,["modelValue"]),Fe,n("div",je,[o(c,{text:"Send Weekly Rewards",class:"w-full"}),o(c,{text:"Send Monthly Rewards",class:"w-full"})]),o(c,{text:"Send",class:"w-full"})])]),_:1})}const ze=v(Be,[["render",qe]]);function P(e){e=e||"";const t=e.slice(0,6),p=e.slice(-4);return`${t}...${p}`}async function H(e){try{await navigator.clipboard.writeText(e)}catch{}}const Oe={name:"AccountTable",components:{TableLite:L,Container:k,Input:C,Button:A,BalanceTable:Le,UsersModal:ze},props:{rows:[Array]},data(){return{search:"",showModal:!1,usersData:{},columns:[{label:"Account ID",field:"_id",width:"10%",isKey:!0},{label:"Wins",field:"wins",width:"10%"},{label:"Credits",field:"credits",width:"10%"},{label:"ETH Balance",field:"ETH_balance",width:"10%"},{label:"Wallet Address",field:"walletAddress",width:"10%"},{label:"Referral Code",field:"myReferralCode",width:"10%"},{label:"",field:"action",width:"10%"}]}},computed:{filteredRow(){var e;return(e=this.rows)==null?void 0:e.filter(t=>t._id.toLowerCase().includes(this.search.toLowerCase()))}},methods:{getShortAddress:P,onCopy:H,onShow(e){this.usersData=e,this.showModal=!0}}},Ke=["onClick"],Ge=["onClick"];function Ye(e,t,p,g,s,r){const a=l("Input"),c=l("BalanceTable"),m=l("Button"),d=l("table-lite"),y=l("Container"),h=l("UsersModal");return u(),b(I,null,[o(y,{title:"Users",class:"w-full",icon:"icon-person-v2"},{default:i(()=>[o(a,{icon:"icon-search",primary:!1,placeholder:"Search Account",class:"w-full",modelValue:s.search,"onUpdate:modelValue":t[0]||(t[0]=_=>s.search=_)},null,8,["modelValue"]),o(d,{"is-slot-mode":!0,"is-static-mode":!0,"is-loading":!1,columns:s.columns,rows:r.filteredRow,total:r.filteredRow.length,class:"w-full relative"},{ETH_balance:i(_=>[o(c,{balance:_.value.ETH_balance},null,8,["balance"])]),walletAddress:i(_=>[n("button",{onClick:R=>r.onCopy(_.value.walletAddress)},f(r.getShortAddress(_.value.walletAddress)),9,Ke)]),myReferralCode:i(_=>[n("button",{onClick:R=>r.onCopy(_.value.myReferralCode)},f(_.value.myReferralCode),9,Ge)]),action:i(_=>[o(m,{text:"Send",onClick:R=>r.onShow(_.value)},null,8,["onClick"])]),_:1},8,["columns","rows","total"])]),_:1}),s.showModal?(u(),w(h,{key:0,onClose:t[1]||(t[1]=_=>s.showModal=!1),data:s.usersData},null,8,["data"])):$("",!0)],64)}const Je=v(Oe,[["render",Ye]]),Qe={name:"TransactionsTable",components:{TableLite:L,Container:k,Input:C,Button:A},props:{rows:[Array],users:[Array]},data(){return{search:"",columns:[{label:"Account ID",field:"userId",width:"10%",isKey:!0},{label:"Amount ETH",field:"amountETH",width:"10%"},{label:"Amount USD",field:"amountUSD",width:"10%"},{label:"Transaction Type",field:"transactionType",width:"10%"}]}},computed:{filteredRow(){var e;return(e=this.rows)==null?void 0:e.filter(t=>t.userId.toLowerCase().includes(this.search.toLowerCase()))}},methods:{getShortAddress:P}},Xe=["href"];function Ze(e,t,p,g,s,r){const a=l("Input"),c=l("table-lite"),m=l("Container");return u(),w(m,{title:"Transactions",class:"w-full",icon:"icon-transaction"},{default:i(()=>[o(a,{icon:"icon-search",primary:!1,placeholder:"Search Account",class:"w-full",modelValue:s.search,"onUpdate:modelValue":t[0]||(t[0]=d=>s.search=d)},null,8,["modelValue"]),o(c,{"is-slot-mode":!0,"is-static-mode":!0,"is-loading":!1,columns:s.columns,rows:r.filteredRow,total:r.filteredRow.length,class:"w-full relative"},{hashTransaction:i(d=>[n("a",{href:`https://etherscan.io/tx/${d.value.hashTransaction}`,target:"_blank"},f(r.getShortAddress(d.value.hashTransaction)),9,Xe)]),_:1},8,["columns","rows","total"])]),_:1})}const et=v(Qe,[["render",Ze]]),tt={name:"BetTable",components:{TableLite:L,Container:k,Input:C,Button:A},props:{rows:[Array]},data(){return{search:"",columns:[{label:"Account ID",field:"userId",width:"10%"},{label:"Risk Type",field:"betType",width:"10%"},{label:"Entry Fee",field:"entryFee",width:"10%"},{label:"Picks",field:"picks",width:"10%"},{label:"Status",field:"status",width:"10%"}]}},computed:{filteredRow(){var e;return(e=this.rows)==null?void 0:e.filter(t=>t.userId.toLowerCase().includes(this.search.toLowerCase()))}}};function st(e,t,p,g,s,r){const a=l("Input"),c=l("table-lite"),m=l("Container");return u(),w(m,{title:"Total Bet",class:"w-full",icon:"icon-bet"},{default:i(()=>[o(a,{icon:"icon-search",primary:!1,placeholder:"Search Account",class:"w-full",modelValue:s.search,"onUpdate:modelValue":t[0]||(t[0]=d=>s.search=d)},null,8,["modelValue"]),o(c,{"is-slot-mode":!0,"is-static-mode":!0,"is-loading":!1,columns:s.columns,rows:r.filteredRow,total:r.filteredRow.length,class:"w-full"},{picks:i(d=>[x(f(d.value.picks.length),1)]),_:1},8,["columns","rows","total"])]),_:1})}const ot=v(tt,[["render",st]]),lt={name:"ReferralModal",components:{Modal:W,Input:C,Button:A},props:{data:Object},data(){return{v$:re(),newRef:this.data.referralCode,commission:0}},validations(){return{newRef:{required:U.withMessage("Referral Code is required",M)},commission:{required:U.withMessage("Commission is required",M)}}},computed:{},methods:{...D(["setReferralLevel"]),onUpdate(){this.v$.$validate(),!this.v$.$error&&(this.$Progress.start(),this.setReferral({userId:this.data.userId,referralCode:this.newRef,commission:this.commission}).then(()=>{this.$emit("close"),this.$notify({title:"Success",text:"Successfully updated referral",type:"success"}),this.$Progress.finish()}).catch(e=>{this.$notify({title:"Update Failed",text:"Failed to update referral. Please try again.",type:"error"}),this.$Progress.fail()}))}}},nt={class:"flex flex-col items-start w-full gap-4"},at={class:"flex flex-col items-start gap-0.5"},rt=n("h1",{class:"text-base font-medium text-white text-opacity-75"}," Account ID ",-1),it={class:"text-sm text-primary-green"};function ct(e,t,p,g,s,r){const a=l("Input"),c=l("Button"),m=l("Modal");return u(),w(m,{title:"Update Referral"},{default:i(()=>[n("div",nt,[n("div",at,[rt,n("p",it,f(p.data.userId),1)]),o(a,{label:"Referral Code",modelValue:s.newRef,"onUpdate:modelValue":t[0]||(t[0]=d=>s.newRef=d),"error-message":s.v$.newRef.$error&&s.v$.newRef.$errors[0].$message,class:"w-full"},null,8,["modelValue","error-message"]),o(a,{label:"Commision",modelValue:s.commission,"onUpdate:modelValue":t[1]||(t[1]=d=>s.commission=d),"error-message":s.v$.commission.$error&&s.v$.commission.$errors[0].$message,class:"w-full"},null,8,["modelValue","error-message"]),o(c,{text:"Update",class:"w-full",onClick:r.onUpdate},null,8,["onClick"])])]),_:1})}const dt=v(lt,[["render",ct]]),ut={name:"ReferralTable",components:{TableLite:L,Container:k,ReferralModal:dt,Input:C,Button:A},props:{rows:[Array]},data(){return{showModal:!1,columns:[{label:"Account ID",field:"userId",width:"10%",isKey:!0},{label:"Level",field:"level",width:"10%"},{label:"People Referred",field:"inviteList",width:"10%"},{label:"Referral Code",field:"referralCode",width:"10%"},{label:"",field:"action",width:"10%"}],referrralData:{},search:""}},computed:{filteredRow(){var e;return(e=this.rows)==null?void 0:e.filter(t=>t.userId.toLowerCase().includes(this.search.toLowerCase()))}},methods:{onCopy:H,onEdit(e){this.referralData=e,this.showModal=!0}}},mt=["onClick"];function ft(e,t,p,g,s,r){const a=l("Input"),c=l("Button"),m=l("table-lite"),d=l("Container"),y=l("ReferralModal");return u(),b(I,null,[o(d,{title:"Referral Codes",class:"w-full",icon:"icon-referral-code"},{default:i(()=>[o(a,{icon:"icon-search",primary:!1,placeholder:"Search Account",class:"w-full",modelValue:s.search,"onUpdate:modelValue":t[0]||(t[0]=h=>s.search=h)},null,8,["modelValue"]),o(m,{"is-slot-mode":!0,"is-static-mode":!0,"is-loading":!1,columns:s.columns,rows:r.filteredRow,total:r.filteredRow.length,class:"w-full relative"},{inviteList:i(h=>[x(f(h.value.invitesList.length),1)]),referralCode:i(h=>[n("button",{onClick:_=>r.onCopy(h.value.referralCode)},f(h.value.referralCode),9,mt)]),action:i(h=>[o(c,{text:"EDIT",onClick:_=>r.onEdit(h.value)},null,8,["onClick"])]),_:1},8,["columns","rows","total"])]),_:1}),s.showModal?(u(),w(y,{key:0,data:e.referralData,onClose:t[1]||(t[1]=h=>s.showModal=!1)},null,8,["data"])):$("",!0)],64)}const pt=v(ut,[["render",ft]]),_t={name:"StatsRow",components:{Container:k},computed:{...T(["admin"])}},ht={class:"flex flex-col w-full gap-5"},wt={class:"grid grid-cols-3 gap-5 w-full"},bt={class:"grid grid-cols-3 gap-5 w-full"};function vt(e,t,p,g,s,r){const a=l("Container");return u(),b("div",ht,[n("div",wt,[o(a,{class:"w-full",border:"",title:"Total Users",icon:"icon-person-v2"},{default:i(()=>[x(f(e.admin.statistics.total_users),1)]),_:1}),o(a,{class:"w-full",border:"",title:"Bets Placed Today",icon:"icon-bet"},{default:i(()=>[x(" $"+f(e.admin.statistics.total_bet_amount),1)]),_:1}),o(a,{class:"w-full",border:"",title:"Wagered Today",icon:"icon-bet"},{default:i(()=>[x(" $"+f(e.admin.statistics.daily_bet_amount),1)]),_:1})]),n("div",bt,[o(a,{class:"w-full",border:"",title:"Daily Users",icon:"icon-person-v2"},{default:i(()=>[x(f(e.admin.statistics.daily_users),1)]),_:1}),o(a,{class:"w-full",border:"",title:"Daily Wins",icon:"icon-bet"},{default:i(()=>[x(f(e.admin.statistics.daily_wins),1)]),_:1}),o(a,{class:"w-full",border:"",title:"Daily Loss",icon:"icon-bet"},{default:i(()=>[x(f(e.admin.statistics.daily_loss),1)]),_:1})])])}const gt=v(_t,[["render",vt]]),yt={},xt={xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},$t=n("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),Ct=[$t];function At(e,t){return u(),b("svg",xt,Ct)}const kt=v(yt,[["render",At]]),Rt={name:"Admin",components:{Wrapper:ee,Container:k,IntervalDropdown:Ae,Input:C,UsersTable:Je,TransactionsTable:et,BetTable:ot,AdminReferralTable:pt,Balance:te,StatsRow:gt,IconCheck:kt,Button:A},computed:{...T(["admin"])},data(){return{revenueInterval:"24h",profitInterval:"24h"}}},Tt={class:"flex lg:flex-row flex-col items-start h-full w-full"},It={class:"flex flex-col w-full"},Lt={class:"grid grid-cols-2 gap-5 w-full"},Bt={class:"flex justify-end w-full"},Dt={class:"grid grid-cols-2 gap-5"};function St(e,t,p,g,s,r){const a=l("IntervalDropdown"),c=l("Balance"),m=l("Container"),d=l("StatsRow"),y=l("Button"),h=l("UsersTable"),_=l("AdminReferralTable"),R=l("BetTable"),N=l("TransactionsTable"),F=l("Wrapper");return u(),b("div",Tt,[n("div",It,[o(F,null,{default:i(()=>[n("div",Lt,[o(m,{class:"w-full",border:"",title:"Revenue",icon:"icon-revenue"},{"title-action":i(()=>[o(a,{modelValue:s.revenueInterval,"onUpdate:modelValue":t[0]||(t[0]=B=>s.revenueInterval=B)},null,8,["modelValue"])]),default:i(()=>[o(c)]),_:1}),o(m,{class:"w-full",border:"",title:"Profit",icon:"icon-profit"},{"title-action":i(()=>[o(a,{modelValue:s.profitInterval,"onUpdate:modelValue":t[1]||(t[1]=B=>s.profitInterval=B)},null,8,["modelValue"])]),default:i(()=>[o(c)]),_:1})]),o(d),n("div",Bt,[n("div",Dt,[o(y,{text:"Send Weekly Rewards"}),o(y,{text:"Send Monthly Rewards"})])]),o(h,{rows:e.admin.users},null,8,["rows"]),o(_,{rows:e.admin.referrals},null,8,["rows"]),o(R,{rows:e.admin.allBets},null,8,["rows"]),o(N,{rows:e.admin.transactions,users:e.admin.users},null,8,["rows","users"])]),_:1})])])}const Vt=v(Rt,[["render",St]]),Ut={name:"Dapp",components:{AdminSidebar:we,Header:se,Admin:Vt,Wallet:oe,Account:le,Loading:ne},data(){return{isLocalLoading:!1}},computed:{...T(["activeLink"])},methods:{...D(["getEtherPrice","getUserDetail","getTotalBet","getRevenue","getDailyBet","getAllBets","getAllTransactions","getAllReferrals","getAllPromotions","getAllUsers","getUserStatistics","setActiveLink"])},async mounted(){this.isLocalLoading=!0,this.setActiveLink({icon:"icon-admin",title:"Admin",value:"admin"}),await this.getEtherPrice(),await this.getUserDetail(),await this.getTotalBet(),await this.getRevenue(),await this.getDailyBet(),await this.getAllBets(),await this.getAllTransactions(),await this.getAllReferrals(),await this.getAllPromotions(),await this.getAllUsers(),await this.getUserStatistics(),this.isLocalLoading=!1}},Mt={class:"flex lg:flex-row flex-col items-start w-full h-full relative"},Et={class:"flex flex-col bg-main w-full lg:h-screen h-full lg:pl-[220px] pl-0"};function Wt(e,t,p,g,s,r){const a=l("AdminSidebar"),c=l("Header"),m=l("Admin",!0),d=l("Wallet"),y=l("Account"),h=l("Loading");return u(),b("div",Mt,[o(a),n("div",Et,[o(c,{title:e.activeLink.title},null,8,["title"]),e.activeLink.value=="admin"?(u(),w(m,{key:0})):$("",!0),e.activeLink.value=="wallet"?(u(),w(d,{key:1})):$("",!0),e.activeLink.value=="account"?(u(),w(y,{key:2})):$("",!0),s.isLocalLoading?(u(),w(h,{key:3})):$("",!0)])])}const jt=v(Ut,[["render",Wt]]);export{jt as default};
